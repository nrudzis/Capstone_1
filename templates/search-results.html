{% extends 'base.html' %}
{% block title %}Search Results{% endblock %}
{% block h1 %}Search Results{% endblock %}
{% block content %}
<div class="col col-xs-auto col-xl-10 col-xxl-8 p-5">
  <div id="search-results-section">
    {% if companies %}
    <ul>
      {% for company in companies %}
      <li>
        <a href="{{ url_for('show_company_info', ticker=company.ticker) }}">{{ company.name }} ({{ company.ticker }})</a>
      </li>
      {% endfor %}
    </ul>
    <button id="watchlist-form-section-show">Save Results in Watchlist</button>
    {% else %}
    <p>No results found.</p>
    {% endif %}
    <a href="{{ url_for('show_home') }}">New Search</a>
  </div>
  <div id="watchlist-form-section" style="display: none">
    <h2>Save Watchlist</h2>
    <form action="{{ url_for('show_results') }}" method="post">
      {{ watchlist_form.hidden_tag()}}
      {% for field in watchlist_form if field.widget.input_type != 'hidden' %}
      <p>
        {{ field }}
        {% for e in field.errors %}
        <small>{{ e }}</small>
        {% endfor %}
      </p>
      {% endfor %}
    </form>
    <button id="watchlist-form-section-hide">Cancel</button>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script src={{ url_for('static', filename='forms.js') }}></script>
{% endblock %}
